<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ | Pasule Blog</title><meta name="author" content="Pasule"><meta name="copyright" content="Pasule"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡æ¶æ„çš„å®Œæ•´æ¼”è¿›æŒ‡å—ï¼ŒåŒ…å«å®è·µæ¡ˆä¾‹ã€æŠ€æœ¯é€‰å‹å’Œå¸¸è§é™·é˜±é¿å…ç­–ç•¥ã€‚"><meta property="og:type" content="article"><meta property="og:title" content="å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ"><meta property="og:url" content="https://pasule.github.io/2025/11/15/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/"><meta property="og:site_name" content="Pasule Blog"><meta property="og:description" content="ä»å•ä½“åº”ç”¨åˆ°å¾®æœåŠ¡æ¶æ„çš„å®Œæ•´æ¼”è¿›æŒ‡å—ï¼ŒåŒ…å«å®è·µæ¡ˆä¾‹ã€æŠ€æœ¯é€‰å‹å’Œå¸¸è§é™·é˜±é¿å…ç­–ç•¥ã€‚"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg"><meta property="article:published_time" content="2025-11-15T02:30:00.000Z"><meta property="article:modified_time" content="2025-12-01T07:30:00.000Z"><meta property="article:author" content="Pasule"><meta property="article:tag" content="å¾®æœåŠ¡"><meta property="article:tag" content="æ¶æ„è®¾è®¡"><meta property="article:tag" content="åˆ†å¸ƒå¼ç³»ç»Ÿ"><meta property="article:tag" content="Spring Cloud"><meta property="article:tag" content="Docker"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ",
  "url": "https://pasule.github.io/2025/11/15/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/",
  "image": "https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg",
  "datePublished": "2025-11-15T02:30:00.000Z",
  "dateModified": "2025-12-01T07:30:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Pasule",
      "url": "https://pasule.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://pasule.github.io/2025/11/15/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><script>(()=>{var e={set:(e,t,a)=>{a&&(a=Date.now()+864e5*a,localStorage.setItem(e,JSON.stringify({value:t,expiry:a})))},get:e=>{var t=localStorage.getItem(e);if(t){var{value:t,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return t;localStorage.removeItem(e)}}},t=(window.btf={saveToLocal:e,getScript:(o,n={})=>new Promise((e,t)=>{let a=document.createElement("script");a.src=o,a.async=!0,Object.entries(n).forEach(([e,t])=>a.setAttribute(e,t)),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),getCSS:(o,n)=>new Promise((e,t)=>{let a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||e()},a.onerror=t,document.head.appendChild(a)}),addGlobalFn:(e,t,a=!1,o=window)=>{var n;e.startsWith("pjax")||((n=o.globalFn||{})[e]=n[e]||{},n[e][a||Object.keys(n[e]).length]=t,o.globalFn=n)}},()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")}),a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")},o=(btf.activateDarkMode=t,btf.activateLightMode=a,e.get("theme")),t=("dark"===o?t():"light"===o&&a(),e.get("aside-status"));void 0!==t&&document.documentElement.classList.toggle("hide-aside","hide"===t);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>let GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:230,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶å¤±è´¥",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"null",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"åŠ è½½æ›´å¤š"},isPhotoFigcaption:!1,islazyloadPlugin:!0,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><meta name="generator" content="Hexo 7.3.0"><script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css');loadCss('https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css"></noscript></head><body><div id="web_bg" style="background-image:url(https://pic1.imgdb.cn/item/6805d3a258cb8da5c8bb423b.jpg)"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/2.jpg" onerror="this.onerror=null,this.src=&quot;/img/friend_404.gif&quot;" alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><span>å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo/"><span>è¯´è¯´</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><span>ç›¸å†Œ</span></a></div><div class="menus_item"><a class="site-page" href="/projects/"><span>é¡¹ç›®</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><span>å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span>å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Pasule Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><span>å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo/"><span>è¯´è¯´</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><span>ç›¸å†Œ</span></a></div><div class="menus_item"><a class="site-page" href="/projects/"><span>é¡¹ç›®</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><span>å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span>å…³äº</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-11-15T02:30:00.000Z" title="å‘è¡¨äº 2025-11-15 10:30:00">2025-11-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-12-01T07:30:00.000Z" title="æ›´æ–°äº 2025-12-01 15:30:00">2025-12-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">æ¶æ„è®¾è®¡</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image: url(https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg);"></div><article class="container post-content" id="article-container"><h1 id="å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ"><a href="#å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ" class="headerlink" title="å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ"></a>å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ</h1><blockquote><p>ğŸš€ <strong>æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥äº†è§£</strong></p><ul><li>å¾®æœåŠ¡æ¶æ„çš„æ ¸å¿ƒç†å¿µå’Œä¼˜åŠ¿</li><li>ä»å•ä½“åº”ç”¨å‘å¾®æœåŠ¡çš„æ¸è¿›å¼è¿ç§»ç­–ç•¥</li><li>Spring Cloudç”Ÿæ€ç³»ç»Ÿå®Œæ•´è§£å†³æ–¹æ¡ˆ</li><li>åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„å…³é”®è€ƒé‡ç‚¹</li><li>ç”Ÿäº§ç¯å¢ƒä¸‹çš„å¾®æœåŠ¡æ²»ç†å®è·µ</li></ul></blockquote><h2 id="ğŸ“š-ç›®å½•æ¦‚è§ˆ"><a href="#ğŸ“š-ç›®å½•æ¦‚è§ˆ" class="headerlink" title="ğŸ“š ç›®å½•æ¦‚è§ˆ"></a>ğŸ“š ç›®å½•æ¦‚è§ˆ</h2><ul><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84">ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„</a></li><li><a href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1vs%E5%8D%95%E4%BD%93%E5%BA%94%E7%94%A8%E5%AF%B9%E6%AF%94">å¾®æœåŠ¡vså•ä½“åº”ç”¨å¯¹æ¯”</a></li><li><a href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99">å¾®æœåŠ¡è®¾è®¡åŸåˆ™</a></li><li><a href="#%E6%8A%80%E6%9C%AF%E6%A0%88%E9%80%89%E5%9E%8B%E6%8C%87%E5%8D%97">æŠ€æœ¯æ ˆé€‰å‹æŒ‡å—</a></li><li><a href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B">å®æˆ˜æ¡ˆä¾‹ï¼šç”µå•†ç³»ç»Ÿå¾®æœåŠ¡åŒ–</a></li><li><a href="#%E5%B8%B8%E8%A7%81%E9%99%B7%E9%98%B1%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</a></li></ul><h2 id="ğŸ¯-ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„"><a href="#ğŸ¯-ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„" class="headerlink" title="ğŸ¯ ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„"></a>ğŸ¯ ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„</h2><p>å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§<strong>åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ–¹æ³•</strong>ï¼Œå®ƒå°†å•ä¸€åº”ç”¨ç¨‹åºå¼€å‘ä¸ºä¸€å¥—å°å‹æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶ä½¿ç”¨è½»é‡çº§æœºåˆ¶ï¼ˆé€šå¸¸æ˜¯HTTPèµ„æºAPIï¼‰è¿›è¡Œé€šä¿¡ã€‚</p><h3 id="æ ¸å¿ƒç‰¹å¾"><a href="#æ ¸å¿ƒç‰¹å¾" class="headerlink" title="æ ¸å¿ƒç‰¹å¾"></a>æ ¸å¿ƒç‰¹å¾</h3><pre class="mermaid">graph TB
    A[å¾®æœåŠ¡æ¶æ„] --&gt; B[æœåŠ¡ç‹¬ç«‹éƒ¨ç½²]
    A --&gt; C[ä¸šåŠ¡åŠŸèƒ½å•ä¸€]
    A --&gt; D[å»ä¸­å¿ƒåŒ–æ²»ç†]
    A --&gt; E[æ•…éšœéš”ç¦»]
    A --&gt; F[æŠ€æœ¯å¤šæ ·æ€§]
    
    B --&gt; B1[ç‹¬ç«‹å‘å¸ƒå‘¨æœŸ]
    B --&gt; B2[ç‹¬ç«‹æ‰©ç¼©å®¹]
    
    C --&gt; C1[å•ä¸€èŒè´£åŸåˆ™]
    C --&gt; C2[é«˜å†…èšä½è€¦åˆ]
    
    D --&gt; D1[æ•°æ®åº“åˆ†ç¦»]
    D --&gt; D2[å›¢é˜Ÿè‡ªæ²»]
    
    E --&gt; E1[æœåŠ¡ç†”æ–­]
    E --&gt; E2[é™çº§ç­–ç•¥]
    
    F --&gt; F1[è¯­è¨€æ— å…³]
    F --&gt; F2[æ¡†æ¶é€‰æ‹©è‡ªç”±]</pre><h2 id="âš–ï¸-å¾®æœåŠ¡vså•ä½“åº”ç”¨å¯¹æ¯”"><a href="#âš–ï¸-å¾®æœåŠ¡vså•ä½“åº”ç”¨å¯¹æ¯”" class="headerlink" title="âš–ï¸ å¾®æœåŠ¡vså•ä½“åº”ç”¨å¯¹æ¯”"></a>âš–ï¸ å¾®æœåŠ¡vså•ä½“åº”ç”¨å¯¹æ¯”</h2><table><thead><tr><th>ç»´åº¦</th><th>å•ä½“åº”ç”¨</th><th>å¾®æœåŠ¡æ¶æ„</th></tr></thead><tbody><tr><td><strong>å¼€å‘å¤æ‚åº¦</strong></td><td>ğŸŸ¢ ç®€å•</td><td>ğŸŸ¡ å¤æ‚</td></tr><tr><td><strong>éƒ¨ç½²æ–¹å¼</strong></td><td>ğŸŸ¢ ç®€å•</td><td>ğŸŸ¡ å¤æ‚</td></tr><tr><td><strong>æŠ€æœ¯æ ˆ</strong></td><td>ğŸŸ¡ ç»Ÿä¸€</td><td>ğŸŸ¢ å¤šæ ·åŒ–</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>ğŸ”´ æ•´ä½“æ‰©å±•</td><td>ğŸŸ¢ æŒ‰éœ€æ‰©å±•</td></tr><tr><td><strong>æ•…éšœå½±å“</strong></td><td>ğŸ”´ å…¨å±€å½±å“</td><td>ğŸŸ¢ å±€éƒ¨éš”ç¦»</td></tr><tr><td><strong>å›¢é˜Ÿåä½œ</strong></td><td>ğŸŸ¡ éœ€è¦åè°ƒ</td><td>ğŸŸ¢ ç‹¬ç«‹å¼€å‘</td></tr><tr><td><strong>æ•°æ®ä¸€è‡´æ€§</strong></td><td>ğŸŸ¢ ACIDäº‹åŠ¡</td><td>ğŸ”´ æœ€ç»ˆä¸€è‡´æ€§</td></tr></tbody></table><h2 id="ğŸ—ï¸-å¾®æœåŠ¡è®¾è®¡åŸåˆ™"><a href="#ğŸ—ï¸-å¾®æœåŠ¡è®¾è®¡åŸåˆ™" class="headerlink" title="ğŸ—ï¸ å¾®æœåŠ¡è®¾è®¡åŸåˆ™"></a>ğŸ—ï¸ å¾®æœåŠ¡è®¾è®¡åŸåˆ™</h2><h3 id="1-å•ä¸€èŒè´£åŸåˆ™-Single-Responsibility-Principle"><a href="#1-å•ä¸€èŒè´£åŸåˆ™-Single-Responsibility-Principle" class="headerlink" title="1. å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility Principle)"></a>1. å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility Principle)</h3><p>æ¯ä¸ªå¾®æœåŠ¡åº”è¯¥ä¸“æ³¨äºä¸€ä¸ªä¸šåŠ¡èƒ½åŠ›ï¼Œéµå¾ªâ€åšä¸€ä»¶äº‹å¹¶åšå¥½â€çš„åŸåˆ™ã€‚</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ ä¸å¥½çš„è®¾è®¡ - èŒè´£æ··ä¹±</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserManagementService</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createUser</span><span class="params">(User user)</span> { <span class="comment">/* ç”¨æˆ·åˆ›å»º */</span> }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendEmail</span><span class="params">(String email)</span> { <span class="comment">/* é‚®ä»¶å‘é€ */</span> }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">generateReport</span><span class="params">()</span> { <span class="comment">/* æŠ¥è¡¨ç”Ÿæˆ */</span> }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processPayment</span><span class="params">(Payment payment)</span> { <span class="comment">/* æ”¯ä»˜å¤„ç† */</span> }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… å¥½çš„è®¾è®¡ - èŒè´£å•ä¸€</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createUser</span><span class="params">(User user)</span> { <span class="comment">/* ä¸“æ³¨ç”¨æˆ·ç®¡ç† */</span> }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateUser</span><span class="params">(User user)</span> { <span class="comment">/* */</span> }</span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">findUser</span><span class="params">(Long id)</span> { <span class="comment">/* */</span> }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NotificationService</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendEmail</span><span class="params">(String email)</span> { <span class="comment">/* ä¸“æ³¨é€šçŸ¥æœåŠ¡ */</span> }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendSms</span><span class="params">(String phone)</span> { <span class="comment">/* */</span> }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-æ•°æ®åº“åˆ†ç¦»åŸåˆ™"><a href="#2-æ•°æ®åº“åˆ†ç¦»åŸåˆ™" class="headerlink" title="2. æ•°æ®åº“åˆ†ç¦»åŸåˆ™"></a>2. æ•°æ®åº“åˆ†ç¦»åŸåˆ™</h3><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¯ä¸ªæœåŠ¡æ‹¥æœ‰ç‹¬ç«‹çš„æ•°æ®å­˜å‚¨</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">user-service:</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">user_db</span></span><br><span class="line">    <span class="attr">technology:</span> <span class="string">PostgreSQL</span></span><br><span class="line">    </span><br><span class="line">  <span class="attr">order-service:</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">order_db</span></span><br><span class="line">    <span class="attr">technology:</span> <span class="string">MySQL</span></span><br><span class="line">    </span><br><span class="line">  <span class="attr">product-service:</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">product_db</span></span><br><span class="line">    <span class="attr">technology:</span> <span class="string">MongoDB</span></span><br><span class="line">    </span><br><span class="line">  <span class="attr">analytics-service:</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">analytics_db</span></span><br><span class="line">    <span class="attr">technology:</span> <span class="string">Elasticsearch</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-æ— çŠ¶æ€è®¾è®¡"><a href="#3-æ— çŠ¶æ€è®¾è®¡" class="headerlink" title="3. æ— çŠ¶æ€è®¾è®¡"></a>3. æ— çŠ¶æ€è®¾è®¡</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ… æ— çŠ¶æ€è®¾è®¡ç¤ºä¾‹</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderController</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderService orderService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping("/orders")</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;Order&gt; <span class="title function_">createOrder</span><span class="params">(<span class="meta">@RequestBody</span> CreateOrderRequest request, </span></span><br><span class="line"><span class="params">                                           <span class="meta">@RequestHeader("Authorization")</span> String token)</span> {</span><br><span class="line">        <span class="comment">// ä»tokenè§£æç”¨æˆ·ä¿¡æ¯ï¼Œä¸ä¾èµ–sessionçŠ¶æ€</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> jwtTokenUtil.parseUser(token);</span><br><span class="line">        <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> orderService.createOrder(request, user);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(order);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ğŸ› ï¸-æŠ€æœ¯æ ˆé€‰å‹æŒ‡å—"><a href="#ğŸ› ï¸-æŠ€æœ¯æ ˆé€‰å‹æŒ‡å—" class="headerlink" title="ğŸ› ï¸ æŠ€æœ¯æ ˆé€‰å‹æŒ‡å—"></a>ğŸ› ï¸ æŠ€æœ¯æ ˆé€‰å‹æŒ‡å—</h2><h3 id="Spring-Cloudç”Ÿæ€ç³»ç»Ÿ"><a href="#Spring-Cloudç”Ÿæ€ç³»ç»Ÿ" class="headerlink" title="Spring Cloudç”Ÿæ€ç³»ç»Ÿ"></a>Spring Cloudç”Ÿæ€ç³»ç»Ÿ</h3><pre class="mermaid">graph TB
    A[Spring Cloud Gateway] --&gt; B[æœåŠ¡ç½‘å…³]
    C[Eureka/Consul] --&gt; D[æœåŠ¡æ³¨å†Œå‘ç°]
    E[Hystrix/Resilience4j] --&gt; F[ç†”æ–­é™çº§]
    G[Spring Cloud Config] --&gt; H[é…ç½®ç®¡ç†]
    I[Sleuth + Zipkin] --&gt; J[é“¾è·¯è¿½è¸ª]
    K[Spring Security] --&gt; L[å®‰å…¨è®¤è¯]
    
    subgraph "å®Œæ•´æŠ€æœ¯æ ˆ"
        B
        D
        F
        H
        J
        L
    end</pre><h3 id="å®¹å™¨åŒ–éƒ¨ç½²"><a href="#å®¹å™¨åŒ–éƒ¨ç½²" class="headerlink" title="å®¹å™¨åŒ–éƒ¨ç½²"></a>å®¹å™¨åŒ–éƒ¨ç½²</h3><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Dockerfile æœ€ä½³å®è·µ</span></span><br><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">11</span>-jre-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºérootç”¨æˆ·</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> groupadd -r spring &amp;&amp; useradd -r -g spring spring</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶jaråŒ…</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> target/user-service-*.jar app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="keyword">HEALTHCHECK</span><span class="language-bash"> --interval=30s --<span class="built_in">timeout</span>=3s --start-period=5s --retries=3 \</span></span><br><span class="line"><span class="language-bash">  CMD curl -f http://localhost:8080/actuator/health || <span class="built_in">exit</span> 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°érootç”¨æˆ·</span></span><br><span class="line"><span class="keyword">USER</span> spring:spring</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨åº”ç”¨</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">"java"</span>, <span class="string">"-jar"</span>, <span class="string">"/app/app.jar"</span>]</span></span><br></pre></td></tr></tbody></table></figure><h2 id="ğŸª-å®æˆ˜æ¡ˆä¾‹ï¼šç”µå•†ç³»ç»Ÿå¾®æœåŠ¡åŒ–"><a href="#ğŸª-å®æˆ˜æ¡ˆä¾‹ï¼šç”µå•†ç³»ç»Ÿå¾®æœåŠ¡åŒ–" class="headerlink" title="ğŸª å®æˆ˜æ¡ˆä¾‹ï¼šç”µå•†ç³»ç»Ÿå¾®æœåŠ¡åŒ–"></a>ğŸª å®æˆ˜æ¡ˆä¾‹ï¼šç”µå•†ç³»ç»Ÿå¾®æœåŠ¡åŒ–</h2><h3 id="ç³»ç»Ÿæ¶æ„å›¾"><a href="#ç³»ç»Ÿæ¶æ„å›¾" class="headerlink" title="ç³»ç»Ÿæ¶æ„å›¾"></a>ç³»ç»Ÿæ¶æ„å›¾</h3><pre class="mermaid">graph TB
    subgraph "å‰ç«¯å±‚"
        A[Webå‰ç«¯]
        B[ç§»åŠ¨ç«¯APP]
        C[ç®¡ç†åå°]
    end
    
    subgraph "APIç½‘å…³å±‚"
        D[Spring Cloud Gateway]
    end
    
    subgraph "å¾®æœåŠ¡å±‚"
        E[ç”¨æˆ·æœåŠ¡]
        F[å•†å“æœåŠ¡]
        G[è®¢å•æœåŠ¡]
        H[æ”¯ä»˜æœåŠ¡]
        I[åº“å­˜æœåŠ¡]
        J[é€šçŸ¥æœåŠ¡]
        K[æ¨èæœåŠ¡]
    end
    
    subgraph "åŸºç¡€è®¾æ–½å±‚"
        L[(ç”¨æˆ·æ•°æ®åº“)]
        M[(å•†å“æ•°æ®åº“)]
        N[(è®¢å•æ•°æ®åº“)]
        O[Redisç¼“å­˜]
        P[æ¶ˆæ¯é˜Ÿåˆ—]
        Q[æ–‡ä»¶å­˜å‚¨]
    end
    
    A --&gt; D
    B --&gt; D
    C --&gt; D
    
    D --&gt; E
    D --&gt; F
    D --&gt; G
    D --&gt; H
    D --&gt; I
    D --&gt; J
    D --&gt; K
    
    E --&gt; L
    F --&gt; M
    G --&gt; N
    E --&gt; O
    F --&gt; O
    G --&gt; P
    H --&gt; P
    I --&gt; P
    J --&gt; P
    K --&gt; Q</pre><h3 id="æœåŠ¡æ‹†åˆ†ç­–ç•¥"><a href="#æœåŠ¡æ‹†åˆ†ç­–ç•¥" class="headerlink" title="æœåŠ¡æ‹†åˆ†ç­–ç•¥"></a>æœåŠ¡æ‹†åˆ†ç­–ç•¥</h3><h4 id="ç”¨æˆ·æœåŠ¡-User-Service"><a href="#ç”¨æˆ·æœåŠ¡-User-Service" class="headerlink" title="ç”¨æˆ·æœåŠ¡ (User Service)"></a>ç”¨æˆ·æœåŠ¡ (User Service)</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping("/api/users")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping("/register")</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;UserRegistrationResponse&gt; <span class="title function_">register</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@Valid</span> <span class="meta">@RequestBody</span> UserRegistrationRequest request)</span> {</span><br><span class="line">        </span><br><span class="line">        <span class="type">UserRegistrationResponse</span> <span class="variable">response</span> <span class="operator">=</span> userService.registerUser(request);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(HttpStatus.CREATED).body(response);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping("/{userId}")</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;UserDetailResponse&gt; <span class="title function_">getUserDetail</span><span class="params">(<span class="meta">@PathVariable</span> Long userId)</span> {</span><br><span class="line">        <span class="type">UserDetailResponse</span> <span class="variable">response</span> <span class="operator">=</span> userService.getUserDetail(userId);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(response);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PutMapping("/{userId}/profile")</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;Void&gt; <span class="title function_">updateProfile</span><span class="params">(<span class="meta">@PathVariable</span> Long userId,</span></span><br><span class="line"><span class="params">                                            <span class="meta">@Valid</span> <span class="meta">@RequestBody</span> UpdateProfileRequest request)</span> {</span><br><span class="line">        userService.updateProfile(userId, request);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().build();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PasswordEncoder passwordEncoder;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ApplicationEventPublisher eventPublisher;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> UserRegistrationResponse <span class="title function_">registerUser</span><span class="params">(UserRegistrationRequest request)</span> {</span><br><span class="line">        <span class="comment">// éªŒè¯ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (userRepository.existsByUsername(request.getUsername())) {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UserAlreadyExistsException</span>(<span class="string">"ç”¨æˆ·åå·²å­˜åœ¨"</span>);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–°ç”¨æˆ·</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> User.builder()</span><br><span class="line">                .username(request.getUsername())</span><br><span class="line">                .email(request.getEmail())</span><br><span class="line">                .passwordHash(passwordEncoder.encode(request.getPassword()))</span><br><span class="line">                .status(UserStatus.ACTIVE)</span><br><span class="line">                .createdAt(LocalDateTime.now())</span><br><span class="line">                .build();</span><br><span class="line">                </span><br><span class="line">        <span class="type">User</span> <span class="variable">savedUser</span> <span class="operator">=</span> userRepository.save(user);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å‘å¸ƒç”¨æˆ·æ³¨å†Œäº‹ä»¶</span></span><br><span class="line">        eventPublisher.publishEvent(<span class="keyword">new</span> <span class="title class_">UserRegisteredEvent</span>(savedUser.getId(), savedUser.getEmail()));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> UserRegistrationResponse.from(savedUser);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="è®¢å•æœåŠ¡-Order-Service"><a href="#è®¢å•æœåŠ¡-Order-Service" class="headerlink" title="è®¢å•æœåŠ¡ (Order Service)"></a>è®¢å•æœåŠ¡ (Order Service)</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping("/api/orders")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderController</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderService orderService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;CreateOrderResponse&gt; <span class="title function_">createOrder</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@Valid</span> <span class="meta">@RequestBody</span> CreateOrderRequest request,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestHeader("X-User-Id")</span> Long userId)</span> {</span><br><span class="line">        </span><br><span class="line">        <span class="type">CreateOrderResponse</span> <span class="variable">response</span> <span class="operator">=</span> orderService.createOrder(request, userId);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(HttpStatus.CREATED).body(response);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping("/{orderId}")</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;OrderDetailResponse&gt; <span class="title function_">getOrderDetail</span><span class="params">(<span class="meta">@PathVariable</span> String orderId)</span> {</span><br><span class="line">        <span class="type">OrderDetailResponse</span> <span class="variable">response</span> <span class="operator">=</span> orderService.getOrderDetail(orderId);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(response);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderService</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderRepository orderRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> InventoryServiceClient inventoryServiceClient;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PaymentServiceClient paymentServiceClient;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> CreateOrderResponse <span class="title function_">createOrder</span><span class="params">(CreateOrderRequest request, Long userId)</span> {</span><br><span class="line">        <span class="comment">// 1. éªŒè¯åº“å­˜</span></span><br><span class="line">        List&lt;InventoryCheckResult&gt; inventoryResults = </span><br><span class="line">            inventoryServiceClient.checkInventory(request.getItems());</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> (!inventoryResults.stream().allMatch(InventoryCheckResult::isAvailable)) {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">InsufficientInventoryException</span>(<span class="string">"åº“å­˜ä¸è¶³"</span>);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 2. åˆ›å»ºè®¢å•</span></span><br><span class="line">        <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> Order.builder()</span><br><span class="line">                .orderId(generateOrderId())</span><br><span class="line">                .userId(userId)</span><br><span class="line">                .items(request.getItems())</span><br><span class="line">                .totalAmount(calculateTotalAmount(request.getItems()))</span><br><span class="line">                .status(OrderStatus.PENDING_PAYMENT)</span><br><span class="line">                .createdAt(LocalDateTime.now())</span><br><span class="line">                .build();</span><br><span class="line">                </span><br><span class="line">        <span class="type">Order</span> <span class="variable">savedOrder</span> <span class="operator">=</span> orderRepository.save(order);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 3. é¢„ç•™åº“å­˜</span></span><br><span class="line">        inventoryServiceClient.reserveInventory(savedOrder.getOrderId(), request.getItems());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4. å‘é€è®¢å•åˆ›å»ºäº‹ä»¶</span></span><br><span class="line">        <span class="type">OrderCreatedEvent</span> <span class="variable">event</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrderCreatedEvent</span>(savedOrder.getOrderId(), userId, savedOrder.getTotalAmount());</span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">"order.exchange"</span>, <span class="string">"order.created"</span>, event);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> CreateOrderResponse.from(savedOrder);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æœåŠ¡é—´é€šä¿¡"><a href="#æœåŠ¡é—´é€šä¿¡" class="headerlink" title="æœåŠ¡é—´é€šä¿¡"></a>æœåŠ¡é—´é€šä¿¡</h3><h4 id="1-åŒæ­¥é€šä¿¡-Feign-Client"><a href="#1-åŒæ­¥é€šä¿¡-Feign-Client" class="headerlink" title="1. åŒæ­¥é€šä¿¡ - Feign Client"></a>1. åŒæ­¥é€šä¿¡ - Feign Client</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(name = "inventory-service", fallback = InventoryServiceFallback.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">InventoryServiceClient</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping("/api/inventory/check")</span></span><br><span class="line">    List&lt;InventoryCheckResult&gt; <span class="title function_">checkInventory</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;OrderItem&gt; items)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping("/api/inventory/reserve")</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">reserveInventory</span><span class="params">(<span class="meta">@RequestParam</span> String orderId, <span class="meta">@RequestBody</span> List&lt;OrderItem&gt; items)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping("/api/inventory/release")</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">releaseInventory</span><span class="params">(<span class="meta">@RequestParam</span> String orderId)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InventoryServiceFallback</span> <span class="keyword">implements</span> <span class="title class_">InventoryServiceClient</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;InventoryCheckResult&gt; <span class="title function_">checkInventory</span><span class="params">(List&lt;OrderItem&gt; items)</span> {</span><br><span class="line">        <span class="comment">// é™çº§ç­–ç•¥ï¼šå‡è®¾åº“å­˜å……è¶³</span></span><br><span class="line">        <span class="keyword">return</span> items.stream()</span><br><span class="line">                .map(item -&gt; InventoryCheckResult.builder()</span><br><span class="line">                        .productId(item.getProductId())</span><br><span class="line">                        .available(<span class="literal">true</span>)</span><br><span class="line">                        .availableQuantity(item.getQuantity())</span><br><span class="line">                        .build())</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reserveInventory</span><span class="params">(String orderId, List&lt;OrderItem&gt; items)</span> {</span><br><span class="line">        log.warn(<span class="string">"åº“å­˜æœåŠ¡ä¸å¯ç”¨ï¼Œè®¢å• {} çš„åº“å­˜é¢„ç•™æ“ä½œå·²é™çº§"</span>, orderId);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">releaseInventory</span><span class="params">(String orderId)</span> {</span><br><span class="line">        log.warn(<span class="string">"åº“å­˜æœåŠ¡ä¸å¯ç”¨ï¼Œè®¢å• {} çš„åº“å­˜é‡Šæ”¾æ“ä½œå·²é™çº§"</span>, orderId);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="2-å¼‚æ­¥é€šä¿¡-æ¶ˆæ¯é˜Ÿåˆ—"><a href="#2-å¼‚æ­¥é€šä¿¡-æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="2. å¼‚æ­¥é€šä¿¡ - æ¶ˆæ¯é˜Ÿåˆ—"></a>2. å¼‚æ­¥é€šä¿¡ - æ¶ˆæ¯é˜Ÿåˆ—</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderEventListener</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> InventoryService inventoryService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> NotificationService notificationService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RabbitListener(queues = "order.payment.success.queue")</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handlePaymentSuccess</span><span class="params">(PaymentSuccessEvent event)</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="comment">// ç¡®è®¤åº“å­˜æ‰£å‡</span></span><br><span class="line">            inventoryService.confirmInventoryDeduction(event.getOrderId());</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å‘é€è®¢å•æˆåŠŸé€šçŸ¥</span></span><br><span class="line">            notificationService.sendOrderSuccessNotification(event.getUserId(), event.getOrderId());</span><br><span class="line">            </span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            log.error(<span class="string">"å¤„ç†æ”¯ä»˜æˆåŠŸäº‹ä»¶å¤±è´¥: orderId={}, error={}"</span>, event.getOrderId(), e.getMessage());</span><br><span class="line">            <span class="comment">// é‡è¯•æœºåˆ¶æˆ–æ­»ä¿¡é˜Ÿåˆ—å¤„ç†</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RabbitListener(queues = "order.payment.failed.queue")</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handlePaymentFailed</span><span class="params">(PaymentFailedEvent event)</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="comment">// é‡Šæ”¾é¢„ç•™åº“å­˜</span></span><br><span class="line">            inventoryService.releaseReservedInventory(event.getOrderId());</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ›´æ–°è®¢å•çŠ¶æ€</span></span><br><span class="line">            orderService.updateOrderStatus(event.getOrderId(), OrderStatus.PAYMENT_FAILED);</span><br><span class="line">            </span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            log.error(<span class="string">"å¤„ç†æ”¯ä»˜å¤±è´¥äº‹ä»¶å¤±è´¥: orderId={}, error={}"</span>, event.getOrderId(), e.getMessage());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="âš ï¸-å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ"><a href="#âš ï¸-å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="âš ï¸ å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ"></a>âš ï¸ å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h2><h3 id="1-åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜"><a href="#1-åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜" class="headerlink" title="1. åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜"></a>1. åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°</strong>ï¼šè·¨æœåŠ¡çš„æ•°æ®ä¸€è‡´æ€§ä¿è¯</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šSagaæ¨¡å¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderSagaOrchestrator</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processOrder</span><span class="params">(CreateOrderRequest request)</span> {</span><br><span class="line">        <span class="type">SagaTransaction</span> <span class="variable">saga</span> <span class="operator">=</span> SagaTransaction.builder()</span><br><span class="line">                .addStep(<span class="keyword">new</span> <span class="title class_">CreateOrderStep</span>())</span><br><span class="line">                .addStep(<span class="keyword">new</span> <span class="title class_">ReserveInventoryStep</span>())</span><br><span class="line">                .addStep(<span class="keyword">new</span> <span class="title class_">ProcessPaymentStep</span>())</span><br><span class="line">                .addStep(<span class="keyword">new</span> <span class="title class_">SendNotificationStep</span>())</span><br><span class="line">                .build();</span><br><span class="line">                </span><br><span class="line">        saga.execute(request);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CreateOrderStep</span> <span class="keyword">implements</span> <span class="title class_">SagaStep</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">(Object data)</span> {</span><br><span class="line">        <span class="comment">// åˆ›å»ºè®¢å•é€»è¾‘</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">compensate</span><span class="params">(Object data)</span> {</span><br><span class="line">        <span class="comment">// å–æ¶ˆè®¢å•é€»è¾‘</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-æœåŠ¡é›ªå´©é—®é¢˜"><a href="#2-æœåŠ¡é›ªå´©é—®é¢˜" class="headerlink" title="2. æœåŠ¡é›ªå´©é—®é¢˜"></a>2. æœåŠ¡é›ªå´©é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°</strong>ï¼šå•ä¸ªæœåŠ¡æ•…éšœå¯¼è‡´è¿é”ååº”</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç†”æ–­å™¨ + é™çº§ç­–ç•¥</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductService</span> {</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProductServiceClient productServiceClient;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@CircuitBreaker(name = "product-service", fallbackMethod = "getProductDetailFallback")</span></span><br><span class="line">    <span class="meta">@TimeLimiter(name = "product-service")</span></span><br><span class="line">    <span class="meta">@Retry(name = "product-service")</span></span><br><span class="line">    <span class="keyword">public</span> CompletableFuture&lt;ProductDetail&gt; <span class="title function_">getProductDetail</span><span class="params">(Long productId)</span> {</span><br><span class="line">        <span class="keyword">return</span> CompletableFuture.supplyAsync(() -&gt; </span><br><span class="line">            productServiceClient.getProductDetail(productId));</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> CompletableFuture&lt;ProductDetail&gt; <span class="title function_">getProductDetailFallback</span><span class="params">(Long productId, Exception ex)</span> {</span><br><span class="line">        <span class="comment">// é™çº§ç­–ç•¥ï¼šè¿”å›åŸºç¡€å•†å“ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">return</span> CompletableFuture.completedFuture(</span><br><span class="line">            ProductDetail.builder()</span><br><span class="line">                .id(productId)</span><br><span class="line">                .name(<span class="string">"å•†å“ä¿¡æ¯æš‚æ—¶æ— æ³•è·å–"</span>)</span><br><span class="line">                .available(<span class="literal">false</span>)</span><br><span class="line">                .build()</span><br><span class="line">        );</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-é…ç½®ç®¡ç†å¤æ‚æ€§"><a href="#3-é…ç½®ç®¡ç†å¤æ‚æ€§" class="headerlink" title="3. é…ç½®ç®¡ç†å¤æ‚æ€§"></a>3. é…ç½®ç®¡ç†å¤æ‚æ€§</h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç»Ÿä¸€é…ç½®ä¸­å¿ƒ</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># application-dev.yml</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">uri:</span> <span class="string">http://config-server:8888</span></span><br><span class="line">      <span class="attr">profile:</span> <span class="string">dev</span></span><br><span class="line">      <span class="attr">label:</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">order-service</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bootstrap.yml</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="attr">uri:</span> <span class="string">${CONFIG_SERVER_URL:http://localhost:8888}</span></span><br><span class="line">      <span class="attr">fail-fast:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">retry:</span></span><br><span class="line">        <span class="attr">max-attempts:</span> <span class="number">3</span></span><br><span class="line">        <span class="attr">max-interval:</span> <span class="number">2000</span></span><br></pre></td></tr></tbody></table></figure><h2 id="ğŸš€-æ€»ç»“ä¸å±•æœ›"><a href="#ğŸš€-æ€»ç»“ä¸å±•æœ›" class="headerlink" title="ğŸš€ æ€»ç»“ä¸å±•æœ›"></a>ğŸš€ æ€»ç»“ä¸å±•æœ›</h2><p>å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œå®ƒå¸¦æ¥äº†ï¼š</p><p><strong>æ”¶ç›Š</strong>ï¼š</p><ul><li>ğŸ¯ æŠ€æœ¯æ ˆå¤šæ ·åŒ–å’Œå›¢é˜Ÿç‹¬ç«‹æ€§</li><li>ğŸ“ˆ æŒ‰éœ€æ‰©å±•å’Œæ•…éšœéš”ç¦»</li><li>ğŸ”„ å¿«é€Ÿè¿­ä»£å’ŒæŒç»­éƒ¨ç½²</li></ul><p><strong>æŒ‘æˆ˜</strong>ï¼š</p><ul><li>ğŸŒ åˆ†å¸ƒå¼ç³»ç»Ÿå¤æ‚æ€§</li><li>ğŸ“Š è¿ç»´å’Œç›‘æ§éš¾åº¦å¢åŠ </li><li>ğŸ”„ æ•°æ®ä¸€è‡´æ€§ä¿è¯</li></ul><h3 id="æœ€ä½³å®è·µæ€»ç»“"><a href="#æœ€ä½³å®è·µæ€»ç»“" class="headerlink" title="æœ€ä½³å®è·µæ€»ç»“"></a>æœ€ä½³å®è·µæ€»ç»“</h3><ol><li><strong>æ¸è¿›å¼è¿ç§»</strong>ï¼šä»è¾¹ç¼˜æœåŠ¡å¼€å§‹ï¼Œé€æ­¥åˆ†è§£å•ä½“åº”ç”¨</li><li><strong>ç›‘æ§ä¸ºå…ˆ</strong>ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§ã€æ—¥å¿—å’Œè¿½è¸ªä½“ç³»</li><li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ï¼šæ„å»ºå®Œæ•´çš„æµ‹è¯•é‡‘å­—å¡”</li><li><strong>æ–‡æ¡£é©±åŠ¨</strong>ï¼šç»´æŠ¤APIæ–‡æ¡£å’Œæ¶æ„å†³ç­–è®°å½•</li><li><strong>å›¢é˜Ÿåä½œ</strong>ï¼šå»ºç«‹è·¨å›¢é˜Ÿæ²Ÿé€šæœºåˆ¶</li></ol><blockquote><p>ğŸ’¡ <strong>è®°ä½</strong>ï¼šå¾®æœåŠ¡ä¸æ˜¯é“¶å¼¹ï¼Œè¦æ ¹æ®å›¢é˜Ÿè§„æ¨¡ã€ä¸šåŠ¡å¤æ‚åº¦å’ŒæŠ€æœ¯èƒ½åŠ›æ¥é€‰æ‹©åˆé€‚çš„æ¶æ„ç­–ç•¥ã€‚</p></blockquote><hr><h2 id="ğŸ“–-ç›¸å…³é˜…è¯»"><a href="#ğŸ“–-ç›¸å…³é˜…è¯»" class="headerlink" title="ğŸ“– ç›¸å…³é˜…è¯»"></a>ğŸ“– ç›¸å…³é˜…è¯»</h2><ul><li><a href="../distributed-systems-design/">åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡åŸç†</a></li><li><a href="../spring-cloud-gateway-guide/">Spring Cloud Gatewayå®æˆ˜æŒ‡å—</a></li><li><a href="../docker-best-practices/">Dockerå®¹å™¨åŒ–æœ€ä½³å®è·µ</a></li><li><a href="../kubernetes-microservices/">Kuberneteså¾®æœåŠ¡éƒ¨ç½²</a></li></ul><hr><p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€åˆ†äº«å’Œè¯„è®ºï¼</strong> ğŸŒŸ</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://pasule.github.io">Pasule</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://pasule.github.io/2025/11/15/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">https://pasule.github.io/2025/11/15/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://pasule.github.io" target="_blank">Pasule Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">å¾®æœåŠ¡</a><a class="post-meta__tags" href="/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">æ¶æ„è®¾è®¡</a><a class="post-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">åˆ†å¸ƒå¼ç³»ç»Ÿ</a><a class="post-meta__tags" href="/tags/Spring-Cloud/">Spring Cloud</a><a class="post-meta__tags" href="/tags/Docker/">Docker</a></div><div class="post-share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg" data-sites="facebook,twitter,wechat,weibo,qq"></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/10/20/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="Javaå¹¶å‘ç¼–ç¨‹æ·±åº¦è§£æï¼šä»ç†è®ºåˆ°å®è·µ"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/npm/programming-languages-logos/src/java/java.png" onerror="onerror=null,src=&quot;/img/404.jpg&quot;" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">Javaå¹¶å‘ç¼–ç¨‹æ·±åº¦è§£æï¼šä»ç†è®ºåˆ°å®è·µ</div></div><div class="info-2"><div class="info-item-1">Javaå¹¶å‘ç¼–ç¨‹æ·±åº¦è§£æï¼šä»ç†è®ºåˆ°å®è·µ ğŸ§µ å¹¶å‘ç¼–ç¨‹æ ¸å¿ƒè¦ç‚¹ æ·±å…¥ç†è§£Javaå†…å­˜æ¨¡å‹å’Œhappens-beforeåŸåˆ™ æŒæ¡synchronizedã€volatileã€Lockç­‰åŒæ­¥æœºåˆ¶ ç†Ÿç»ƒè¿ç”¨çº¿ç¨‹æ± å’Œå¹¶å‘å·¥å…·ç±» äº†è§£å¸¸è§å¹¶å‘é—®é¢˜çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ å­¦ä¹ é«˜æ€§èƒ½å¹¶å‘ç¼–ç¨‹çš„æœ€ä½³å®è·µ ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦å¹¶å‘ç¼–ç¨‹ï¼Ÿåœ¨ç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­ï¼ŒCPUé€šå¸¸æ‹¥æœ‰å¤šä¸ªæ ¸å¿ƒï¼Œä¸ºäº†å……åˆ†åˆ©ç”¨ç¡¬ä»¶èµ„æºï¼Œæå‡ç¨‹åºæ€§èƒ½ï¼Œæˆ‘ä»¬éœ€è¦è®©ç¨‹åºèƒ½å¤ŸåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚è¿™å°±æ˜¯å¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒä»·å€¼ã€‚ å¹¶å‘ vs å¹¶è¡Œgraph LR subgraph "å¹¶å‘(Concurrency)" A[Task1] -.-&gt; B[Task2] B -.-&gt; C[Task3] C -.-&gt; A end subgraph "å¹¶è¡Œ(Parallelism)" D[Task1] E[Task2] F[Task3] end A --&gt; G[å•æ ¸CPUæ—¶é—´ç‰‡è½®è½¬] D --&gt;...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/2.jpg" onerror="this.onerror=null,this.src=&quot;/img/friend_404.gif&quot;" alt="avatar"></div><div class="author-info-name">Pasule</div><div class="author-info-description">pasuleçš„ä¸ªäººåšå®¢ç½‘ç«™å–µ~</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/pasule"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/pasule" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:3086874696@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.</span> <span class="toc-text">å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%9B%AE%E5%BD%95%E6%A6%82%E8%A7%88"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ“š ç›®å½•æ¦‚è§ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8E%AF-%E4%BB%80%E4%B9%88%E6%98%AF%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¯ ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%89%B9%E5%BE%81"><span class="toc-number">1.2.1.</span> <span class="toc-text">æ ¸å¿ƒç‰¹å¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9A%96%EF%B8%8F-%E5%BE%AE%E6%9C%8D%E5%8A%A1vs%E5%8D%95%E4%BD%93%E5%BA%94%E7%94%A8%E5%AF%B9%E6%AF%94"><span class="toc-number">1.3.</span> <span class="toc-text">âš–ï¸ å¾®æœåŠ¡vså•ä½“åº”ç”¨å¯¹æ¯”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%97%EF%B8%8F-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="toc-number">1.4.</span> <span class="toc-text">ğŸ—ï¸ å¾®æœåŠ¡è®¾è®¡åŸåˆ™</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99-Single-Responsibility-Principle"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility Principle)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E7%A6%BB%E5%8E%9F%E5%88%99"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. æ•°æ®åº“åˆ†ç¦»åŸåˆ™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%97%A0%E7%8A%B6%E6%80%81%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. æ— çŠ¶æ€è®¾è®¡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%9B%A0%EF%B8%8F-%E6%8A%80%E6%9C%AF%E6%A0%88%E9%80%89%E5%9E%8B%E6%8C%87%E5%8D%97"><span class="toc-number">1.5.</span> <span class="toc-text">ğŸ› ï¸ æŠ€æœ¯æ ˆé€‰å‹æŒ‡å—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Cloud%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.5.1.</span> <span class="toc-text">Spring Cloudç”Ÿæ€ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2"><span class="toc-number">1.5.2.</span> <span class="toc-text">å®¹å™¨åŒ–éƒ¨ç½²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8F%AA-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%EF%BC%9A%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%8C%96"><span class="toc-number">1.6.</span> <span class="toc-text">ğŸª å®æˆ˜æ¡ˆä¾‹ï¼šç”µå•†ç³»ç»Ÿå¾®æœåŠ¡åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="toc-number">1.6.1.</span> <span class="toc-text">ç³»ç»Ÿæ¶æ„å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E6%8B%86%E5%88%86%E7%AD%96%E7%95%A5"><span class="toc-number">1.6.2.</span> <span class="toc-text">æœåŠ¡æ‹†åˆ†ç­–ç•¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%9C%8D%E5%8A%A1-User-Service"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">ç”¨æˆ·æœåŠ¡ (User Service)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A2%E5%8D%95%E6%9C%8D%E5%8A%A1-Order-Service"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">è®¢å•æœåŠ¡ (Order Service)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E9%97%B4%E9%80%9A%E4%BF%A1"><span class="toc-number">1.6.3.</span> <span class="toc-text">æœåŠ¡é—´é€šä¿¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1-Feign-Client"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">1. åŒæ­¥é€šä¿¡ - Feign Client</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%BC%82%E6%AD%A5%E9%80%9A%E4%BF%A1-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">2. å¼‚æ­¥é€šä¿¡ - æ¶ˆæ¯é˜Ÿåˆ—</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9A%A0%EF%B8%8F-%E5%B8%B8%E8%A7%81%E9%99%B7%E9%98%B1%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.7.</span> <span class="toc-text">âš ï¸ å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E9%97%AE%E9%A2%98"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9C%8D%E5%8A%A1%E9%9B%AA%E5%B4%A9%E9%97%AE%E9%A2%98"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. æœåŠ¡é›ªå´©é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E5%A4%8D%E6%9D%82%E6%80%A7"><span class="toc-number">1.7.3.</span> <span class="toc-text">3. é…ç½®ç®¡ç†å¤æ‚æ€§</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%9A%80-%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B"><span class="toc-number">1.8.</span> <span class="toc-text">ğŸš€ æ€»ç»“ä¸å±•æœ›</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93"><span class="toc-number">1.8.1.</span> <span class="toc-text">æœ€ä½³å®è·µæ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%96-%E7%9B%B8%E5%85%B3%E9%98%85%E8%AF%BB"><span class="toc-number">1.9.</span> <span class="toc-text">ğŸ“– ç›¸å…³é˜…è¯»</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/11/15/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" title="å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ"></a><div class="content"><a class="title" href="/2025/11/15/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" title="å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ">å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸç†ä¸æœ€ä½³å®è·µ</a><time datetime="2025-11-15T02:30:00.000Z" title="å‘è¡¨äº 2025-11-15 10:30:00">2025-11-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/20/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="Javaå¹¶å‘ç¼–ç¨‹æ·±åº¦è§£æï¼šä»ç†è®ºåˆ°å®è·µ"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/npm/programming-languages-logos/src/java/java.png" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="Javaå¹¶å‘ç¼–ç¨‹æ·±åº¦è§£æï¼šä»ç†è®ºåˆ°å®è·µ"></a><div class="content"><a class="title" href="/2025/10/20/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="Javaå¹¶å‘ç¼–ç¨‹æ·±åº¦è§£æï¼šä»ç†è®ºåˆ°å®è·µ">Javaå¹¶å‘ç¼–ç¨‹æ·±åº¦è§£æï¼šä»ç†è®ºåˆ°å®è·µ</a><time datetime="2025-10-20T06:20:00.000Z" title="å‘è¡¨äº 2025-10-20 14:20:00">2025-10-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/15/MySQL%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/" title="MySQLç´¢å¼•ä¼˜åŒ–å®Œå…¨æŒ‡å—ï¼šä»åŸç†åˆ°å®æˆ˜"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/mysql.svg" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="MySQLç´¢å¼•ä¼˜åŒ–å®Œå…¨æŒ‡å—ï¼šä»åŸç†åˆ°å®æˆ˜"></a><div class="content"><a class="title" href="/2025/09/15/MySQL%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/" title="MySQLç´¢å¼•ä¼˜åŒ–å®Œå…¨æŒ‡å—ï¼šä»åŸç†åˆ°å®æˆ˜">MySQLç´¢å¼•ä¼˜åŒ–å®Œå…¨æŒ‡å—ï¼šä»åŸç†åˆ°å®æˆ˜</a><time datetime="2025-09-15T01:30:00.000Z" title="å‘è¡¨äº 2025-09-15 09:30:00">2025-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/10/Git%E5%B7%A5%E4%BD%9C%E6%B5%81%E4%B8%8E%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" title="Gitå·¥ä½œæµä¸å›¢é˜Ÿåä½œæœ€ä½³å®è·µ"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/git.svg" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="Gitå·¥ä½œæµä¸å›¢é˜Ÿåä½œæœ€ä½³å®è·µ"></a><div class="content"><a class="title" href="/2025/08/10/Git%E5%B7%A5%E4%BD%9C%E6%B5%81%E4%B8%8E%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" title="Gitå·¥ä½œæµä¸å›¢é˜Ÿåä½œæœ€ä½³å®è·µ">Gitå·¥ä½œæµä¸å›¢é˜Ÿåä½œæœ€ä½³å®è·µ</a><time datetime="2025-08-10T08:45:00.000Z" title="å‘è¡¨äº 2025-08-10 16:45:00">2025-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/05/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/" title="å‰ç«¯æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»åŠ è½½åˆ°æ¸²æŸ“å…¨é¢æé€Ÿ"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/javascript.svg" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" alt="å‰ç«¯æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»åŠ è½½åˆ°æ¸²æŸ“å…¨é¢æé€Ÿ"></a><div class="content"><a class="title" href="/2025/07/05/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/" title="å‰ç«¯æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»åŠ è½½åˆ°æ¸²æŸ“å…¨é¢æé€Ÿ">å‰ç«¯æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»åŠ è½½åˆ°æ¸²æŸ“å…¨é¢æé€Ÿ</a><time datetime="2025-07-05T03:20:00.000Z" title="å‘è¡¨äº 2025-07-05 11:20:00">2025-07-05</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://cdn.jsdelivr.net/gh/nodejs/nodejs.dev@main/public/images/logos/nodejs-new-pantone-black.svg)"><div id="footer-wrap"><div class="copyright">Â©2025 By Pasule</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div><div class="footer_custom_text">Copyright Â© 2025 <a href="https://github.com/pasule">å…³æ³¨å¸•æ–¯ä¸¢å–µ</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/main.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(()=>{var e=()=>{var e;0!==(e=document.querySelectorAll("pre > code.mermaid")).length&&e.forEach(e=>{var t=document.createElement("pre"),d=(t.className="mermaid-src",t.hidden=!0,t.textContent=e.textContent,document.createElement("div"));d.className="mermaid-wrap",d.appendChild(t),e.parentNode.replaceWith(d)});let t=document.querySelectorAll("#article-container .mermaid-wrap");0!==t.length&&(e=()=>(e=>{window.loadMermaid=!0;let n="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";e.forEach((e,t)=>{let d=e.firstElementChild;e=`%%{init:{ 'theme':'${n}'}}%%
`+d.textContent,t=mermaid.render("mermaid-"+t,e);let a=e=>{d.insertAdjacentHTML("afterend",e)};"string"==typeof t?a(t):t.then(({svg:e})=>a(e))})})(t),btf.addGlobalFn("themeChange",e,"mermaid"),window.loadMermaid?e():btf.getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(e))};btf.addGlobalFn("encrypt",e,"mermaid"),window.pjax?e():document.addEventListener("DOMContentLoaded",e)})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":120,"height":240},"mobile":{"show":false},"log":false});</script></body></html>